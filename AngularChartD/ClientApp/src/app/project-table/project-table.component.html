
<div class="container-fluid">

  <ng-template [ngIf]="tableMode" [ngIfElse]="createAndEdit">
    <h1>Список выполненных задач</h1>

    <input type="button" value="Добавить" class="btn btn-success" (click)="addNewProject()" />   

    <table class="table table-striped">
      <thead>
        <tr>
          <td>Организация</td>
          <td>Запланировано</td>
          <td>Выполнено</td>
          <td>Дата</td>
          <td></td>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of projects">
          <td>{{p?.contractor}}</td>
          <td>{{p?.targetProjects}}</td>
          <td>{{p?.completeProjects}}</td>
          <td>{{p?.date | date: 'MM/yyyy'}}</td>
          <td>
            <button class="btn btn-sm btn-primary" (click)="editList(l)">Изменить</button>
            <button class="btn btn-sm btn-danger" (click)="delete(l)">Удалить</button>
          </td>
        </tr>
      </tbody>
    </table>
  </ng-template>

  <ng-template #createAndEdit>
    <div class="form-group">
      <label>Организация</label>
      <input type="text" [(ngModel)]="oneProject.contractor" class="form-control" />
    </div>
    <div class="form-group">
      <label>Проектов запланировано</label>
      <input type="text" [(ngModel)]="oneProject.targetProjects" class="form-control" />
    </div>
    <div class="form-group">
      <label>Проектов выполнено</label>
      <input type="text" [(ngModel)]="oneProject.completeProjects" class="form-control" />
    </div>
    <div class="form-group">
      <label>Дата</label>
      <input type="text" [(ngModel)]="oneProject.date" class="form-control" />
    </div>
    <div>
      <div [hidden]="!errorModel" class="alert alert-danger">
        Заполните таблицу данных
      </div>
      <input type="button" value="Сохранить" (click)="save()" class="btn btn-success" />
      <input type="button" value="Отмена" (click)="cancel()" class="btn btn-warning" />
    </div>
  </ng-template>

</div>

